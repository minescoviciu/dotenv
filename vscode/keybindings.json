// Place your key bindings in this file to override the defaults
[
    {
        "key": "cmd+i",
        "command": "runCommands",
        "args": {
            "commands": [
                "workbench.action.closeSidebar",
                "workbench.action.moveSideBarLeft",
                "composer.startComposerPrompt"
            ]
        },
    },
    // side bar
    {
        "key": "cmd+b",
        "command": "runCommands",
        "args": {
            "commands": [
                "workbench.action.closeSidebar",
                "workbench.action.toggleAuxiliaryBar",
            ]
        },
        "when": "sideBarVisible && auxiliaryBarVisible"
    },
    {
        "key": "cmd+b",
        "command": "runCommands",
        "args": {
            "commands": [
                "workbench.action.closeSidebar",
            ]
        },
        "when": "sideBarVisible && !auxiliaryBarVisible"
    },
    {
        "key": "cmd+b",
        "command": "runCommands",
        "args": {
            "commands": [
                "workbench.action.toggleAuxiliaryBar",
                "workbench.action.moveSideBarRight",
                "workbench.action.toggleSidebarVisibility"
            ]
        },
        "when": "!sideBarVisible && auxiliaryBarVisible"
    },
    {
        "key": "cmd+b",
        "command": "runCommands",
        "args": {
            "commands": [
                "workbench.action.moveSideBarRight",
                "workbench.action.toggleSidebarVisibility",
            ]
        },
        "when": "!sideBarVisible && !auxiliaryBarVisible"
    },
    // search
    {
        "key": "shift+cmd+f",
        "command": "workbench.action.findInFiles",
        "when": "sideBarVisible"
    },
    {
        "key": "shift+cmd+f",
        "command": "runCommands",
        "args": {
            "commands": [
                "workbench.action.toggleAuxiliaryBar",
                "workbench.action.moveSideBarRight",
                "workbench.action.findInFiles"
            ]
        },
        "when": "!sideBarVisible && auxiliaryBarVisible"
    },
    {
        "key": "shift+cmd+f",
        "command": "runCommands",
        "args": {
            "commands": [
                "workbench.action.moveSideBarRight",
                "workbench.action.findInFiles"
            ]
        },
        "when": "!sideBarVisible && !auxiliaryBarVisible"
    },
    
    // test
    //  {
    //      "key": "cmd+d",
    //      "command": "workbench.action.quickOpen",
    //  },

    // Simulate the ctrl+d, ctrl+u, etc
    {
        "key": "ctrl+b",
        "command": "runCommands",
        "args": {
          "commands": [
            { "command": "vscode-neovim.send", "args": "<C-b>" },
            { "command": "editorScroll", "args": { "to": "up", "by": "page" } }
          ]
        },
        "when": "editorTextFocus"
      },
      {
        "key": "ctrl+u",
        "command": "runCommands",
        "args": {
          "commands": [
            { "command": "vscode-neovim.send", "args": "<C-u>" },
            { "command": "editorScroll", "args": { "to": "up", "by": "halfPage" } }
          ]
        },
        "when": "editorTextFocus"
      },
      {
        "key": "ctrl+d",
        "command": "runCommands",
        "args": {
          "commands": [
            { "command": "vscode-neovim.send", "args": "<C-d>" },
            { "command": "editorScroll", "args": { "to": "down", "by": "halfPage" } }
          ]
        },
        "when": "editorTextFocus"
      },
      {
        "key": "ctrl+f",
        "command": "runCommands",
        "args": {
          "commands": [
            { "command": "vscode-neovim.send", "args": "<C-f>" },
            { "command": "editorScroll", "args": { "to": "down", "by": "page" } }
          ]
        },
        "when": "editorTextFocus"
      },

    {
        "key": "cmd+i",
        "command": "-composer.startComposerPrompt"
    },
    {
        "key": "cmd+b",
        "command": "-workbench.action.toggleSidebarVisibility"
    },
    {
        "key": "cmd+i",
        "command": "-composer.toggleAllVsSingleChatContext",
        "when": "composerFocused && !editorTextFocus"
    },
    {
        "key": "shift+cmd+f",
        "command": "-workbench.action.findInFiles"
    },
    {
        "key": "shift+cmd+l",
        "command": "-lazygit-vscode.toggle"
    },
]
